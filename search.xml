<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>js base64toFile</title>
      <link href="/2019/12/04/js%20base64toFile/"/>
      <url>/2019/12/04/js%20base64toFile/</url>
      
        <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 将以base64数据转换为File</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> urlData base64数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> filename 生成文件的文件名</span></span><br><span class="line"><span class="comment"> * 用url方式表示的base64图片数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">dataURLtoFile</span> (dataurl, filename) &#123;</span><br><span class="line">  <span class="keyword">const</span> arr = dataurl.<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">  <span class="keyword">const</span> mime = arr[<span class="number">0</span>].<span class="title function_">match</span>(<span class="regexp">/:(.*?);/</span>)[<span class="number">1</span>]</span><br><span class="line">  <span class="keyword">const</span> bstr = <span class="title function_">atob</span>(arr[<span class="number">1</span>])</span><br><span class="line">  <span class="keyword">let</span> n = bstr.<span class="property">length</span></span><br><span class="line">  <span class="keyword">let</span> u8arr = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(n)</span><br><span class="line">  <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">    u8arr[n] = bstr.<span class="title function_">charCodeAt</span>(n)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">File</span>([u8arr], filename, &#123; <span class="attr">type</span>: mime &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx 反向代理解决跨域</title>
      <link href="/2019/08/26/nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F/"/>
      <url>/2019/08/26/nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location /api/ &#123;</span><br><span class="line">   rewrite  ^/api/(.*)$ /$1 break;</span><br><span class="line">   proxy_pass http://bbb.com:3000/;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git 常用命令</title>
      <link href="/2019/08/16/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2019/08/16/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="创建并切换分支"><a href="#创建并切换分支" class="headerlink" title="创建并切换分支"></a>创建并切换分支</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev</span><br></pre></td></tr></table></figure><h1 id="查看所有远程仓库"><a href="#查看所有远程仓库" class="headerlink" title="查看所有远程仓库"></a>查看所有远程仓库</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote show</span><br></pre></td></tr></table></figure><h1 id="撤销commit但未push的命令"><a href="#撤销commit但未push的命令" class="headerlink" title="撤销commit但未push的命令"></a>撤销commit但未push的命令</h1><h2 id="1-找到想要撤销的id"><a href="#1-找到想要撤销的id" class="headerlink" title="1.找到想要撤销的id"></a>1.找到想要撤销的id</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br></pre></td></tr></table></figure><h2 id="2-撤销commit"><a href="#2-撤销commit" class="headerlink" title="2.撤销commit"></a>2.撤销commit</h2><blockquote><p>撤销,同时将代码恢复到前一commit_id 对应的版本</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset –hard id </span><br></pre></td></tr></table></figure><blockquote><p>撤销，但是不对代码修改</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD^</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js 复制指定内容</title>
      <link href="/2019/08/16/js%E5%A4%8D%E5%88%B6%E6%8C%87%E5%AE%9A%E5%86%85%E5%AE%B9/"/>
      <url>/2019/08/16/js%E5%A4%8D%E5%88%B6%E6%8C%87%E5%AE%9A%E5%86%85%E5%AE%B9/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install clipboard –save</span><br></pre></td></tr></table></figure><blockquote><p>html</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;fr blue&quot; id=&quot;copy&quot; @click=&quot;copy&quot; data-clipboard-text=&quot;要复制的内容&quot;&gt;</span><br><span class="line">    点击复制微信号:&#123;&#123;d.busWechat&#125;&#125;</span><br><span class="line">/div&gt;   </span><br></pre></td></tr></table></figure><blockquote><p>js</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import Clipboard from &#x27;clipboard&#x27;</span><br><span class="line">new ClipboardJS(&#x27;#copy&#x27;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js 时间戳转日期</title>
      <link href="/2019/08/16/js%E6%97%B6%E9%97%B4%E6%88%B3%E8%BD%AC%E6%97%A5%E6%9C%9F/"/>
      <url>/2019/08/16/js%E6%97%B6%E9%97%B4%E6%88%B3%E8%BD%AC%E6%97%A5%E6%9C%9F/</url>
      
        <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">1565835493922</span> + <span class="number">8</span> * <span class="number">3600</span> * <span class="number">1000</span>).<span class="title function_">toJSON</span>().<span class="title function_">substr</span>(<span class="number">0</span>, <span class="number">19</span>).<span class="title function_">replace</span>(<span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27; &#x27;</span>).<span class="title function_">replace</span>(<span class="regexp">/-/g</span>, <span class="string">&#x27;.&#x27;</span>))</span><br><span class="line"><span class="comment">//  yyyy.MM.dd HH:mm:ss</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js 身份证校验</title>
      <link href="/2019/08/16/js%E8%BA%AB%E4%BB%BD%E8%AF%81%E9%AA%8C%E8%AF%81/"/>
      <url>/2019/08/16/js%E8%BA%AB%E4%BB%BD%E8%AF%81%E9%AA%8C%E8%AF%81/</url>
      
        <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Wi</span> = [<span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>]    <span class="comment">// 加权因子</span></span><br><span class="line"><span class="keyword">let</span> letideCode = [<span class="number">1</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>]            <span class="comment">// 身份证验证位值.10代表X</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">IdCardletidate</span> (idCard) &#123;</span><br><span class="line">  idCard = <span class="title function_">trim</span>(idCard.<span class="title function_">replace</span>(<span class="regexp">/ /g</span>, <span class="string">&#x27;&#x27;</span>))               <span class="comment">// 去掉字符串头尾空格</span></span><br><span class="line">  <span class="keyword">if</span> (idCard.<span class="property">length</span> === <span class="number">15</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">isletidityBrithBy15IdCard</span>(idCard)       <span class="comment">// 进行15位身份证的验证</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (idCard.<span class="property">length</span> === <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> aIdCard = idCard.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>)                <span class="comment">// 得到身份证数组</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">isletidityBrithBy18IdCard</span>(idCard) &amp;&amp; <span class="title function_">isTrueletidateCodeBy18IdCard</span>(aIdCard)) &#123;   <span class="comment">// 进行18位身份证的基本验证和第18位的验证</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 判断身份证号码为18位时最后的验证位是否正确</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> aIdCard 身份证号码数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isTrueletidateCodeBy18IdCard</span> (aIdCard) &#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>                             <span class="comment">// 声明加权求和变量</span></span><br><span class="line">  <span class="keyword">if</span> (aIdCard[<span class="number">17</span>].<span class="title function_">toLowerCase</span>() === <span class="string">&#x27;x&#x27;</span>) &#123;</span><br><span class="line">    aIdCard[<span class="number">17</span>] = <span class="number">10</span>                    <span class="comment">// 将最后位为x的验证码替换为10方便后续操作</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">17</span>; i++) &#123;</span><br><span class="line">    sum += <span class="title class_">Wi</span>[i] * aIdCard[i]            <span class="comment">// 加权求和</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> <span class="title class_">CodePosition</span> = sum % <span class="number">11</span>                <span class="comment">// 得到验证码所位置</span></span><br><span class="line">  <span class="keyword">if</span> (aIdCard[<span class="number">17</span>] === letideCode[<span class="title class_">CodePosition</span>]) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 验证18位数身份证号码中的生日是否是有效生日</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> idCard 18位书身份证字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isletidityBrithBy18IdCard</span> (idCard18) &#123;</span><br><span class="line">  <span class="keyword">let</span> year = idCard18.<span class="title function_">substring</span>(<span class="number">6</span>, <span class="number">10</span>)</span><br><span class="line">  <span class="keyword">let</span> month = idCard18.<span class="title function_">substring</span>(<span class="number">10</span>, <span class="number">12</span>)</span><br><span class="line">  <span class="keyword">let</span> day = idCard18.<span class="title function_">substring</span>(<span class="number">12</span>, <span class="number">14</span>)</span><br><span class="line">  <span class="keyword">let</span> tempDate = <span class="keyword">new</span> <span class="title class_">Date</span>(year, <span class="built_in">parseFloat</span>(month) - <span class="number">1</span>, <span class="built_in">parseFloat</span>(day))</span><br><span class="line">  <span class="comment">// 这里用getFullYear()获取年份，避免千年虫问题</span></span><br><span class="line">  <span class="keyword">if</span> (tempDate.<span class="title function_">getFullYear</span>() !== <span class="built_in">parseFloat</span>(year) || tempDate.<span class="title function_">getMonth</span>() !== <span class="built_in">parseFloat</span>(month) - <span class="number">1</span> || tempDate.<span class="title function_">getDate</span>() !== <span class="built_in">parseFloat</span>(day)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 验证15位数身份证号码中的生日是否是有效生日</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> idCard15 15位书身份证字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isletidityBrithBy15IdCard</span> (idCard15) &#123;</span><br><span class="line">  <span class="keyword">let</span> year = idCard15.<span class="title function_">substring</span>(<span class="number">6</span>, <span class="number">8</span>)</span><br><span class="line">  <span class="keyword">let</span> month = idCard15.<span class="title function_">substring</span>(<span class="number">8</span>, <span class="number">10</span>)</span><br><span class="line">  <span class="keyword">let</span> day = idCard15.<span class="title function_">substring</span>(<span class="number">10</span>, <span class="number">12</span>)</span><br><span class="line">  <span class="keyword">let</span> tempDate = <span class="keyword">new</span> <span class="title class_">Date</span>(year, <span class="built_in">parseFloat</span>(month) - <span class="number">1</span>, <span class="built_in">parseFloat</span>(day))</span><br><span class="line">  <span class="comment">// 对于老身份证中的你年龄则不需考虑千年虫问题而使用getYear()方法</span></span><br><span class="line">  <span class="keyword">if</span> (tempDate.<span class="title function_">getYear</span>() !== <span class="built_in">parseFloat</span>(year) || tempDate.<span class="title function_">getMonth</span>() !== <span class="built_in">parseFloat</span>(month) - <span class="number">1</span> || tempDate.<span class="title function_">getDate</span>() !== <span class="built_in">parseFloat</span>(day)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 去掉字符串头尾空格</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">trim</span> (str) &#123;</span><br><span class="line">  <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/(^\s*)|(\s*$)/g</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">IdCardletidate</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue px转化为rem</title>
      <link href="/2019/08/16/vue%20px%E8%BD%AC%E5%8C%96%E4%B8%BArem/"/>
      <url>/2019/08/16/vue%20px%E8%BD%AC%E5%8C%96%E4%B8%BArem/</url>
      
        <content type="html"><![CDATA[<p>index.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="vue3"><a href="#vue3" class="headerlink" title="vue3"></a>vue3</h1><h2 id="Viewport-布局"><a href="#Viewport-布局" class="headerlink" title="Viewport 布局"></a>Viewport 布局</h2><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i amfe-flexible postcss-pxtorem;</span><br></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;postcss-pxtorem&#x27;</span>: &#123;</span><br><span class="line">      <span class="attr">rootValue</span>: <span class="number">37.5</span>,</span><br><span class="line">      <span class="attr">propList</span>: [<span class="string">&#x27;*&#x27;</span>],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Rem-布局适配"><a href="#Rem-布局适配" class="headerlink" title="Rem 布局适配"></a>Rem 布局适配</h2><h3 id="安装插件-1"><a href="#安装插件-1" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i amfe-flexible postcss-pxtorem;</span><br></pre></td></tr></table></figure><h3 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h3><p>postcss.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: &#123;</span><br><span class="line">    <span class="comment">// postcss-pxtorem 插件的版本需要 &gt;= 5.0.0</span></span><br><span class="line">    <span class="string">&#x27;postcss-pxtorem&#x27;</span>: &#123;</span><br><span class="line">      <span class="attr">rootValue</span>: <span class="number">75</span>,</span><br><span class="line">      <span class="attr">exclude</span>: <span class="regexp">/node_modules/i</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="vite"><a href="#vite" class="headerlink" title="vite"></a>vite</h3><p>vite.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> postcsspxtoviewport <span class="keyword">from</span> <span class="string">&quot;postcss-px-to-viewport&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">css</span>: &#123;</span><br><span class="line">    <span class="attr">postcss</span>: &#123;</span><br><span class="line">      <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="title function_">postcsspxtoviewport</span>(&#123;</span><br><span class="line">          <span class="attr">viewportWidth</span>: <span class="number">750</span>,</span><br><span class="line">          <span class="attr">exclude</span>: <span class="regexp">/node_modules/i</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="Vue2"><a href="#Vue2" class="headerlink" title="Vue2"></a>Vue2</h1><h2 id="vue-cli4"><a href="#vue-cli4" class="headerlink" title="vue-cli4"></a>vue-cli4</h2><h3 id="安装插件-2"><a href="#安装插件-2" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i amfe-flexible postcss-pxtorem -S;</span><br></pre></td></tr></table></figure><h3 id="配置插件"><a href="#配置插件" class="headerlink" title="配置插件"></a>配置插件</h3><p>mainjs</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;lib-flexible&#x27;</span></span><br></pre></td></tr></table></figure><p>vue.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">css</span>: &#123;</span><br><span class="line">        <span class="attr">loaderOptions</span>: &#123;</span><br><span class="line">          <span class="attr">css</span>: &#123;&#125;,</span><br><span class="line">          <span class="attr">postcss</span>: &#123;</span><br><span class="line">            <span class="attr">plugins</span>: [</span><br><span class="line">              <span class="built_in">require</span>(<span class="string">&#x27;postcss-pxtorem&#x27;</span>)(&#123;</span><br><span class="line">                <span class="attr">rootValue</span>: <span class="number">37.5</span></span><br><span class="line">              &#125;)</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>或者 package.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;postcss&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;plugins&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;autoprefixer&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;postcss-pxtorem&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;rootValue&quot;</span><span class="punctuation">:</span> <span class="number">75</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>或者 postcss.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;postcss-pxtorem&#x27;</span>: &#123;</span><br><span class="line">      <span class="attr">rootValue</span>: <span class="number">37.5</span>,</span><br><span class="line">      <span class="attr">propList</span>: [<span class="string">&#x27;*&#x27;</span>],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="vue-cli3"><a href="#vue-cli3" class="headerlink" title="vue-cli3"></a>vue-cli3</h2><h3 id="安装插件-3"><a href="#安装插件-3" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i lib-flexible px2rem-loader -S;</span><br></pre></td></tr></table></figure><h3 id="配置插件-1"><a href="#配置插件-1" class="headerlink" title="配置插件"></a>配置插件</h3><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;lib-flexible&#x27;</span></span><br></pre></td></tr></table></figure><ol><li>打开build&#x2F;utils.js文件，找到exports.cssLoaders方法，在里面添加如下代码</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> px2remLoader = &#123;</span><br><span class="line">    <span class="attr">loader</span>: <span class="string">&#x27;px2rem-loader&#x27;</span>,</span><br><span class="line">    <span class="attr">options</span>: &#123;</span><br><span class="line">      <span class="attr">remUint</span>: <span class="number">75</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>打开build&#x2F;utils.js文件，找到generateLoaders方法</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">generateLoaders</span>(<span class="params">loader, loaderOptions</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> loaders = [cssLoader, px2remLoader];                <span class="comment">//  1.添加px2remLoader 插件</span></span><br><span class="line">    <span class="keyword">if</span> (loader) &#123;</span><br><span class="line">      loaders.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="attr">loader</span>: loader + <span class="string">&#x27;-loader&#x27;</span>,</span><br><span class="line">        <span class="attr">options</span>: <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, loaderOptions, &#123;</span><br><span class="line">          <span class="attr">sourceMap</span>: options.<span class="property">sourceMap</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;   </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>build&#x2F;utils.js文件 添加 generateSassResourceLoader方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">generateSassResourceLoader</span> () &#123;                </span><br><span class="line">   <span class="keyword">const</span> loaders = [</span><br><span class="line">      cssLoader,</span><br><span class="line">      px2remLoader,</span><br><span class="line">      <span class="string">&#x27;less-loader&#x27;</span></span><br><span class="line">   ]</span><br><span class="line">   <span class="keyword">if</span> (options.<span class="property">extract</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">ExtractTextPlugin</span>.<span class="title function_">extract</span>(&#123;</span><br><span class="line">         <span class="attr">use</span>: loaders,</span><br><span class="line">         <span class="attr">fallback</span>: <span class="string">&#x27;vue-style-loader&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> [<span class="string">&#x27;vue-style-loader&#x27;</span>].<span class="title function_">concat</span>(loaders)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>修改 build&#x2F;utils.js文件 return</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">css</span>: <span class="title function_">generateLoaders</span>(),</span><br><span class="line">    <span class="attr">postcss</span>: <span class="title function_">generateLoaders</span>(),</span><br><span class="line">    <span class="attr">less</span>: <span class="title function_">generateSassResourceLoader</span>()                <span class="comment">//  修改less的值</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></li><li><p>修改&#x2F;node_modules&#x2F;px2rem-loader&#x2F;lib&#x2F;px2rem-loader.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> loaderUtils = <span class="built_in">require</span>(<span class="string">&#x27;loader-utils&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Px2</span>rem = <span class="built_in">require</span>(<span class="string">&#x27;px2rem&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> (<span class="params">source</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> options = loaderUtils.<span class="title function_">getOptions</span>(<span class="variable language_">this</span>)</span><br><span class="line">  <span class="keyword">if</span> (<span class="regexp">/node_modules/</span>.<span class="title function_">test</span>(<span class="variable language_">this</span>.<span class="property">resourcePath</span>)) <span class="keyword">return</span> source</span><br><span class="line">  <span class="keyword">var</span> px2remIns = <span class="keyword">new</span> <span class="title class_">Px2</span>rem(options)</span><br><span class="line">  <span class="keyword">return</span> px2remIns.<span class="title function_">generateRem</span>(source)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="重启，一切ok"><a href="#重启，一切ok" class="headerlink" title="重启，一切ok~"></a>重启，一切ok~</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure><h1 id="插件文档地址"><a href="#插件文档地址" class="headerlink" title="插件文档地址"></a>插件文档地址</h1><p><a href="https://github.com/evrone/postcss-px-to-viewport">postcss-px-to-viewport</a></p><p><a href="https://github.com/cuth/postcss-pxtorem">postcss-pxtorem</a></p><p><a href="https://github.com/amfe/lib-flexible/tree/master">lib-flexible</a></p><p><a href="https://github.com/amfe/lib-flexible">amfe-flexible</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Vue2 </tag>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql 修改时区</title>
      <link href="/2019/03/01/mysql%20%E6%97%B6%E5%8C%BA/"/>
      <url>/2019/03/01/mysql%20%E6%97%B6%E5%8C%BA/</url>
      
        <content type="html"><![CDATA[<p>mysql默认使用的是UTC通用标准时</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 可以将数据库的时区也改成utc的</span><br><span class="line"><span class="number">2.</span> 在连接mysql的配置文件中添加一条，<span class="attr">timezone</span>:<span class="string">&quot;08:00&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Koa 链接 mysql</title>
      <link href="/2019/02/22/koa%E9%93%BE%E6%8E%A5mysql/"/>
      <url>/2019/02/22/koa%E9%93%BE%E6%8E%A5mysql/</url>
      
        <content type="html"><![CDATA[<p>mysql.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 mysql 连接池资源</span></span><br><span class="line"><span class="keyword">var</span> pool = mysql.<span class="title function_">createPool</span>(&#123;</span><br><span class="line">    <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;mima&#x27;</span>,</span><br><span class="line">    <span class="attr">database</span>: <span class="string">&#x27;db&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> (<span class="params">sql, value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        pool.<span class="title function_">getConnection</span>(<span class="keyword">function</span> (<span class="params">err, connection</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (err) <span class="title function_">reject</span>(<span class="literal">false</span>);</span><br><span class="line">            <span class="keyword">else</span> connection.<span class="title function_">query</span>(sql, value, <span class="function">(<span class="params">error, results, fields</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="comment">//将链接返回到连接池中，准备由其他人重复使用</span></span><br><span class="line">                connection.<span class="title function_">release</span>();</span><br><span class="line">                <span class="keyword">if</span> (error) <span class="title function_">reject</span>(<span class="literal">false</span>);</span><br><span class="line">                <span class="keyword">else</span> <span class="title function_">resolve</span>(results)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">xxx</span> () &#123;</span><br><span class="line">   <span class="keyword">const</span> s = <span class="keyword">await</span> <span class="title function_">query</span>(<span class="string">&quot;sql&quot;</span>, value)</span><br><span class="line">   s ? <span class="string">&#x27;操作成功&#x27;</span>: <span class="string">&#x27;操作失败&#x27;</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> Koa </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 本地开发跨域</title>
      <link href="/2019/02/19/vue%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91%E8%B7%A8%E5%9F%9F/"/>
      <url>/2019/02/19/vue%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91%E8%B7%A8%E5%9F%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="vue-cli3"><a href="#vue-cli3" class="headerlink" title="vue-cli3"></a>vue-cli3</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>, <span class="comment">//对应自己的接口</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">          <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ajax</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求 http://localhost:8080/api/XXXXXX </span></span><br><span class="line"><span class="comment">// 实际请求  http://localhost:3000/XXXXXX</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Vue2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>node 中的 this 指针</title>
      <link href="/2019/01/19/node%E4%B8%ADthis%E6%8C%87%E9%92%88/"/>
      <url>/2019/01/19/node%E4%B8%ADthis%E6%8C%87%E9%92%88/</url>
      
        <content type="html"><![CDATA[<h1 id="全局中的this"><a href="#全局中的this" class="headerlink" title="全局中的this"></a>全局中的this</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">num</span> = <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)                   <span class="comment">// &#123;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">num</span>)               <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">global</span>.<span class="property">num</span>)             <span class="comment">// 20</span></span><br></pre></td></tr></table></figure><h1 id="函数中this"><a href="#函数中this" class="headerlink" title="函数中this"></a>函数中this</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">num</span> = <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)                   <span class="comment">// &#123;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">num</span>)               <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">global</span>.<span class="property">num</span>)             <span class="comment">// 20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">fn2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = <span class="number">18</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">fn2</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);              <span class="comment">// global</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">age</span>);          <span class="comment">// 18</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">global</span>.<span class="property">age</span>);        <span class="comment">// 18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Fn</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">num</span> = <span class="number">998</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fn = <span class="keyword">new</span> <span class="title class_">Fn</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);                  <span class="comment">// &#123;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fn.<span class="property">num</span>);                <span class="comment">// 998</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">global</span>.<span class="property">num</span>);            <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>node 日志 log4js</title>
      <link href="/2019/01/19/node%E6%97%A5%E5%BF%97%20log4js/"/>
      <url>/2019/01/19/node%E6%97%A5%E5%BF%97%20log4js/</url>
      
        <content type="html"><![CDATA[<h3 id="安装log4js"><a href="#安装log4js" class="headerlink" title="安装log4js"></a>安装log4js</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install log4js</span><br><span class="line"><span class="string">``</span><span class="string">`     </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### 简单实用</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>javascript</span><br><span class="line"><span class="keyword">const</span> log4js = <span class="built_in">require</span>(<span class="string">&#x27;log4js&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> logger = log4js.<span class="title function_">getLogger</span>();</span><br><span class="line">logger.<span class="property">level</span> = <span class="string">&#x27;debug&#x27;</span>; </span><br><span class="line">logger.<span class="title function_">debug</span>(<span class="string">&quot;Some debug messages&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><blockquote><p>如果不调用configure，log4js将使用LOG4JS_CONFIG（如果已定义）或默认配置。</p></blockquote><blockquote><p>默认配置定义了一个appender，它将使用彩色布局记录到stdout，但也将默认日志级别定义为OFF - 这意味着不会输出任何日志。</p></blockquote><blockquote><p>配置对象必须至少定义一个appender和一个默认类别。如果配置无效，Log4js将抛出异常。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> log4js = <span class="built_in">require</span>(<span class="string">&#x27;log4js&#x27;</span>);</span><br><span class="line"></span><br><span class="line">log4js.<span class="title function_">configure</span>(object || string)      <span class="comment">//  配置入口。string参数被视为用于加载配置的文件名(json文件)</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">log4js.<span class="title function_">configure</span>(&#123;</span><br><span class="line">    <span class="attr">levels</span>: <span class="title class_">Object</span>,                     <span class="comment">//  用于定义自定义日志级别或重新定义现有日志级别</span></span><br><span class="line">    <span class="attr">appenders</span>: <span class="title class_">Object</span>,                  <span class="comment">//  Appenders将日志事件序列化为某种形式的输出。</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><a href="https://log4js-node.github.io/log4js-node/api.html">jog4js官方文档</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-px2rem</title>
      <link href="/2018/12/28/react-px2rem/"/>
      <url>/2018/12/28/react-px2rem/</url>
      
        <content type="html"><![CDATA[<p>安装依赖</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install px2rem-loader</span><br><span class="line"></span><br><span class="line">// rem 推荐 lib-flexible</span><br><span class="line">npm i lib-flexible --save</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// /src/index.js 添加</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;lib-flexible&#x27;</span></span><br></pre></td></tr></table></figure><p>暴露webpack配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run eject</span><br></pre></td></tr></table></figure><p>配置px2rem-px2rem-loader</p><ol><li>打开&#x2F;config&#x2F;webpack.config.js</li><li>修改 getStyleLoaders 方法</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">getStyleLoaders</span> = (<span class="params">cssOptions, preProcessor</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> loaders = [</span><br><span class="line">      <span class="comment">//  ......</span></span><br><span class="line">      <span class="comment">//  在这个数组里最后添加px2rem-loader</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&#x27;px2rem-loader&#x27;</span>,</span><br><span class="line">        <span class="attr">options</span>: &#123;</span><br><span class="line">          <span class="attr">remUni</span>: <span class="number">75</span>,</span><br><span class="line">          <span class="attr">remPrecision</span>: <span class="number">8</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ].<span class="title function_">filter</span>(<span class="title class_">Boolean</span>);</span><br><span class="line">    <span class="keyword">if</span> (preProcessor) &#123;</span><br><span class="line">      loaders.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="attr">loader</span>: <span class="built_in">require</span>.<span class="title function_">resolve</span>(preProcessor),</span><br><span class="line">        <span class="attr">options</span>: &#123;</span><br><span class="line">          <span class="attr">sourceMap</span>: isEnvProduction &amp;&amp; shouldUseSourceMap,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> loaders;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 全局less sess变量</title>
      <link href="/2018/12/19/vue%20%E5%85%A8%E5%B1%80less%E5%8F%98%E9%87%8F/"/>
      <url>/2018/12/19/vue%20%E5%85%A8%E5%B1%80less%E5%8F%98%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="vue-cli4"><a href="#vue-cli4" class="headerlink" title="vue-cli4+"></a>vue-cli4+</h2><h2 id="安装插件"><a href="#安装插件" class="headerlink" title="#安装插件"></a>#安装插件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yarn add --dev less-loader less</span><br><span class="line">yarn add --dev style-resources-loader</span><br><span class="line"></span><br><span class="line">npm install node-sass -D</span><br><span class="line">npm install sass-loader -D</span><br></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>vue.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">sass</span>: &#123;</span><br><span class="line">    <span class="attr">loaderOptions</span>: &#123;</span><br><span class="line">      <span class="comment">//scss 全局变量引用</span></span><br><span class="line">      <span class="comment">//sass-loader v8-，这个选项名是 &quot;data&quot;</span></span><br><span class="line">      <span class="comment">//sass-loader v8 中，这个选项名是 &quot;prependData&quot;</span></span><br><span class="line">      <span class="comment">//sass-loader v10+，这个选项名是 &quot;additionalData&quot;</span></span><br><span class="line">      <span class="attr">sass</span>: &#123;</span><br><span class="line">        <span class="attr">prependData</span>: <span class="string">`@import &quot;&quot;;`</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">pluginOptions</span>: &#123; <span class="comment">// 第三方插件配置</span></span><br><span class="line">    <span class="string">&#x27;style-resources-loader&#x27;</span>: &#123;</span><br><span class="line">      <span class="attr">preProcessor</span>: <span class="string">&#x27;less&#x27;</span>,</span><br><span class="line">      <span class="attr">patterns</span>: [path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;&#x27;</span>)] <span class="comment">// less所在文件路径</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="vue-cli3"><a href="#vue-cli3" class="headerlink" title="vue-cli3"></a>vue-cli3</h2><h2 id="安装插件-1"><a href="#安装插件-1" class="headerlink" title="#安装插件"></a>#安装插件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install sass-resources-loader</span><br></pre></td></tr></table></figure><h3 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">module: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: /\.scss$/,</span><br><span class="line">      use: [</span><br><span class="line">        &#x27;style-loader&#x27;,</span><br><span class="line">        &#x27;css-loader&#x27;,</span><br><span class="line">        &#x27;postcss-loader&#x27;,</span><br><span class="line">        &#x27;sass-loader&#x27;,</span><br><span class="line">        &#123;</span><br><span class="line">          loader: &#x27;sass-resources-loader&#x27;,</span><br><span class="line">          options: &#123;</span><br><span class="line">            // Provide path to the file with resources</span><br><span class="line">            resources: &#x27;./path/to/resources.scss&#x27;,</span><br><span class="line"> </span><br><span class="line">            // Or array of paths</span><br><span class="line">            resources: [&#x27;./path/to/vars.scss&#x27;, &#x27;./path/to/mixins.scss&#x27;]</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p><a href="https://www.npmjs.com/package/sass-resources-loader">sass-resources-loader文档</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Vue2 </tag>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 插件开发</title>
      <link href="/2018/12/19/vue%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
      <url>/2018/12/19/vue%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<h5 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h5><p><a href="https://cn.vuejs.org/v2/guide/plugins.html">传送门</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">// Vue.js 的插件应该有一个公开方法 install。这个方法的第一个参数是 Vue 构造器，第二个参数是一个可选的选项对象：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">MyPlugin.install = function (Vue, options) &#123;</span><br><span class="line">  // 1. 添加全局方法或属性</span><br><span class="line">  Vue.myGlobalMethod = function () &#123;</span><br><span class="line">    // 逻辑...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 2. 添加全局资源</span><br><span class="line">  Vue.directive(&#x27;my-directive&#x27;, &#123;</span><br><span class="line">    bind (el, binding, vnode, oldVnode) &#123;</span><br><span class="line">      // 逻辑...</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  // 3. 注入组件</span><br><span class="line">  Vue.mixin(&#123;</span><br><span class="line">    created: function () &#123;</span><br><span class="line">      // 逻辑...</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  // 4. 添加实例方法</span><br><span class="line">  Vue.prototype.$myMethod = function (methodOptions) &#123;</span><br><span class="line">    // 逻辑...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="alert插件开发"><a href="#alert插件开发" class="headerlink" title="alert插件开发"></a>alert插件开发</h5><ol><li><p>先写个alert组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;ComAlert&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;content&quot; v-for=&quot;(item, index) in content&quot; :key=&quot;index&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &#x27;ComAlert&#x27;,</span><br><span class="line">        data () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                content: [],</span><br><span class="line">                timer: []</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        created () &#123;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            push (text) &#123;</span><br><span class="line">                const s = 2000</span><br><span class="line">                this.content.unshift(text)</span><br><span class="line">                const timer = setTimeout(() =&gt; &#123;</span><br><span class="line">                    this.content.pop()</span><br><span class="line">                &#125;, s)</span><br><span class="line"></span><br><span class="line">                this.timer.push(timer)</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped lang=&quot;less&quot; rel=&quot;stylesheet/less&quot;&gt;</span><br><span class="line">    @import &quot;./Alert.less&quot;;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li><li><p>再写个 alert.js</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import ComAlert from &#x27;./Alert.vue&#x27;</span><br><span class="line"></span><br><span class="line">const alert = &#123;</span><br><span class="line">    install (Vue, option) &#123;</span><br><span class="line">        const Alert = Vue.extend(ComAlert)</span><br><span class="line">        let $vm = new Alert(&#123;</span><br><span class="line">            el: document.createElement(&#x27;div&#x27;)</span><br><span class="line">        &#125;);</span><br><span class="line">        document.body.appendChild($vm.$el);</span><br><span class="line"></span><br><span class="line">        Vue.prototype.$_alert = (alertText = &#x27;&#x27;) =&gt; &#123;</span><br><span class="line">            return $vm.push(alertText)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default alert</span><br></pre></td></tr></table></figure><ol start="3"><li><p>mian.js </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import Alert from &#x27;./components/Alert/Alert&#x27;</span><br><span class="line"></span><br><span class="line">Vue.use(Alert)</span><br></pre></td></tr></table></figure></li><li><p>调用</p><figure class="highlight javascript"><figcaption><span>1.8</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.$_alert(<span class="string">&#x27;提示内容&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Vue2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>单页面配置页面标题</title>
      <link href="/2018/12/19/vue%E5%8D%95%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE%E9%A1%B5%E9%9D%A2%E6%A0%87%E9%A2%98/"/>
      <url>/2018/12/19/vue%E5%8D%95%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE%E9%A1%B5%E9%9D%A2%E6%A0%87%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="vue2、3"><a href="#vue2、3" class="headerlink" title="vue2、3"></a>vue2、3</h1><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-wechat-title --save</span><br></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><blockquote><p>mian.js</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.use(require(&#x27;vue-wechat-title&#x27;))</span><br></pre></td></tr></table></figure><blockquote><p>router.js</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   name: &#x27;Home&#x27;,</span><br><span class="line">   path: &#x27;/home&#x27;,</span><br><span class="line">   meta: &#123;</span><br><span class="line">     title: &#x27;首页&#x27;</span><br><span class="line">   &#125;,</span><br><span class="line">   component: require(&#x27;../views/Home.vue&#x27;)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><blockquote><p>App.vue </p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view v-wechat-title=&quot;$route.meta.title&quot; img-set=&quot;/static/logo.png&quot;&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure><p><a href="https://www.npmjs.com/package/vue-wechat-title">文档链接</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Vue2 </tag>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>单页面配置页面标题</title>
      <link href="/2018/12/19/vue%E8%B7%AF%E5%BE%84%E5%88%AB%E5%90%8D/"/>
      <url>/2018/12/19/vue%E8%B7%AF%E5%BE%84%E5%88%AB%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<p>修改 &#x2F;build&#x2F;webpack.base.conf.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> webpackConfig = &#123;</span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="attr">extensions</span>: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.vue&#x27;</span>, <span class="string">&#x27;.json&#x27;</span>],</span><br><span class="line">        <span class="attr">alias</span>: &#123;</span><br><span class="line">          <span class="string">&#x27;别名&#x27;</span>: <span class="string">&quot;路径&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Vue2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 页面加载进度条</title>
      <link href="/2018/12/19/vue%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E8%BF%9B%E5%BA%A6%E6%9D%A1/"/>
      <url>/2018/12/19/vue%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E8%BF%9B%E5%BA%A6%E6%9D%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="页面加载进度条"><a href="#页面加载进度条" class="headerlink" title="页面加载进度条"></a>页面加载进度条</h1><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save nprogress</span><br></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><blockquote><p>mian.js</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import NProgress from &#x27;nprogress&#x27;</span><br><span class="line">import &#x27;nprogress/nprogress.css&#x27;</span><br><span class="line"></span><br><span class="line">router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">    NProgress.start();</span><br><span class="line">    next()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.afterEach(transition =&gt; &#123;</span><br><span class="line">  NProgress.done();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Vue2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx 相关命令</title>
      <link href="/2018/12/18/nginx%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/"/>
      <url>/2018/12/18/nginx%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h4 id="查看版本"><a href="#查看版本" class="headerlink" title="查看版本"></a>查看版本</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -v</span><br></pre></td></tr></table></figure><h4 id="验证配置是否正确"><a href="#验证配置是否正确" class="headerlink" title="验证配置是否正确"></a>验证配置是否正确</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -t</span><br></pre></td></tr></table></figure><p>通过语法测试，并不一定就代表配置文件真的是没问题的。 可以通过-c选项来进一步进行测试</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -t -c </span><br></pre></td></tr></table></figure><h4 id="快速-启动-关闭-重启-Nginx"><a href="#快速-启动-关闭-重启-Nginx" class="headerlink" title="快速 启动|关闭|重启 Nginx"></a>快速 启动|关闭|重启 Nginx</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload|reopen|stop|quit</span><br></pre></td></tr></table></figure><h4 id="优雅地停止-Nginx"><a href="#优雅地停止-Nginx" class="headerlink" title="优雅地停止 Nginx"></a>优雅地停止 Nginx</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nginx -s quit</span><br><span class="line"></span><br><span class="line">// 或者</span><br><span class="line"></span><br><span class="line">kill -s SIGQUIT &lt;nginx master pid&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux 常用命令</title>
      <link href="/2018/10/26/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2018/10/26/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h3 id="删除命令"><a href="#删除命令" class="headerlink" title="删除命令"></a>删除命令</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 常规删除a.txt文件</span><br><span class="line">rm a.txt</span><br><span class="line"></span><br><span class="line"># 强行删除file.log文件</span><br><span class="line"> rm -f file.log</span><br><span class="line"> </span><br><span class="line"># 删除dirname目录下的所有东西</span><br><span class="line">rm -R dir dirname</span><br><span class="line"></span><br><span class="line"># 删除以 -f 开头的文件</span><br><span class="line">touch ./-f</span><br><span class="line"></span><br><span class="line"># 删除文件夹</span><br><span class="line">rm -rf 文件夹</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx http&amp;https配置</title>
      <link href="/2018/10/26/nginx%20http&amp;https%E9%85%8D%E7%BD%AE/"/>
      <url>/2018/10/26/nginx%20http&amp;https%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>nginx版本：1.12.2</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 首先找到nginx.conf</span><br><span class="line">// 查看nginx.conf 路径</span><br><span class="line">nginx -t</span><br></pre></td></tr></table></figure><p>*注：以下配置重启才能生效</p><h1 id="http配置"><a href="#http配置" class="headerlink" title="http配置"></a>http配置</h1><h2 id="1、配置域名"><a href="#1、配置域名" class="headerlink" title="1、配置域名"></a>1、配置域名</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 比如配置成baidu.com</span><br><span class="line">http &#123;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80 default_server;</span><br><span class="line">        listen       [::]:80 default_server;</span><br><span class="line">        server_name  baidu.com;             &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure><h2 id="2、域名的访问地址"><a href="#2、域名的访问地址" class="headerlink" title="2、域名的访问地址"></a>2、域名的访问地址</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80 default_server;</span><br><span class="line">        listen       [::]:80 default_server;</span><br><span class="line">        server_name  baidu.com;                 //  域名</span><br><span class="line">        root         /server/www/               //  访问baidu.com 所访问的服务器路径</span><br><span class="line">    &#125;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure><h1 id="http2-amp-https"><a href="#http2-amp-https" class="headerlink" title="http2 &amp; https"></a>http2 &amp; https</h1><ul><li>配置域名和访问的路径与http完全相同，区别在于证书</li><li>查看443端口是否打开</li></ul><h2 id="1-找个个证书"><a href="#1-找个个证书" class="headerlink" title="1.找个个证书"></a>1.找个个证书</h2><h2 id="2-修改nginx-conf-文件"><a href="#2-修改nginx-conf-文件" class="headerlink" title="2.修改nginx.conf 文件"></a>2.修改nginx.conf 文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">      listen       443 ssl http2 default_server;</span><br><span class="line">      listen       [::]:443 ssl http2 default_server;</span><br><span class="line">      server_name  m.xxx.com;</span><br><span class="line">      root         /service;</span><br><span class="line"> </span><br><span class="line">      ssl_certificate &quot;/etc/nginx/cert/214744744310771.pem&quot;;         //  证书目录</span><br><span class="line">      ssl_certificate_key &quot;/etc/nginx/cert/214744744310771.key&quot;;     //  证明目录</span><br><span class="line">      ssl_session_cache shared:SSL:1m;</span><br><span class="line">      ssl_session_timeout  5m;</span><br><span class="line">      ssl_ciphers HIGH:!aNULL:!MD5;</span><br><span class="line">      ssl_prefer_server_ciphers on;</span><br><span class="line"> </span><br><span class="line">      # Load configuration files for the default server block.</span><br><span class="line">      include /etc/nginx/default.d/*.conf;</span><br><span class="line"> </span><br><span class="line">      location / &#123;</span><br><span class="line">      &#125;</span><br><span class="line"> </span><br><span class="line">      error_page 404 /404.html;</span><br><span class="line">          location = /40x.html &#123;</span><br><span class="line">      &#125;</span><br><span class="line"> </span><br><span class="line">      error_page 500 502 503 504 /50x.html;</span><br><span class="line">          location = /50x.html &#123;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-查看结果"><a href="#3-查看结果" class="headerlink" title="3.查看结果"></a>3.查看结果</h2><p>重启nginx</p>]]></content>
      
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx 重定向</title>
      <link href="/2018/10/26/nginx%E9%87%8D%E5%AE%9A%E5%90%91/"/>
      <url>/2018/10/26/nginx%E9%87%8D%E5%AE%9A%E5%90%91/</url>
      
        <content type="html"><![CDATA[<h3 id="http重定向到https"><a href="#http重定向到https" class="headerlink" title="http重定向到https"></a>http重定向到https</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">server &#123;  </span><br><span class="line">    listen  111.11.1.111:80;  </span><br><span class="line">    server_name test.com;  </span><br><span class="line">      </span><br><span class="line">    rewrite ^(.*)$  https://$host$1 permanent;  </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centOS使用yum安装node、npm</title>
      <link href="/2018/10/08/centOS%E4%BD%BF%E7%94%A8yuman%E5%AE%89%E8%A3%85node%E3%80%81npm/"/>
      <url>/2018/10/08/centOS%E4%BD%BF%E7%94%A8yuman%E5%AE%89%E8%A3%85node%E3%80%81npm/</url>
      
        <content type="html"><![CDATA[<h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl --silent --location https://rpm.nodesource.com/setup_8.x | sudo bash -</span><br><span class="line"></span><br><span class="line">// 或者</span><br><span class="line"></span><br><span class="line">curl --silent --location https://rpm.nodesource.com/setup_10.x | sudo bash -</span><br></pre></td></tr></table></figure><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y install nodejs</span><br></pre></td></tr></table></figure><blockquote><p>可选：： 安装构建工具</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install gcc-c++ make</span><br><span class="line"># or: sudo yum groupinstall &#x27;Development Tools&#x27;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> centOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centOS 安装 nginx</title>
      <link href="/2018/10/08/centOS%E5%AE%89%E8%A3%85nginx/"/>
      <url>/2018/10/08/centOS%E5%AE%89%E8%A3%85nginx/</url>
      
        <content type="html"><![CDATA[<p>系统版本：centOS7.4</p><h1 id="nginx安装"><a href="#nginx安装" class="headerlink" title="nginx安装"></a>nginx安装</h1><h2 id="1、-判断有无Nginx的源"><a href="#1、-判断有无Nginx的源" class="headerlink" title="1、 判断有无Nginx的源"></a>1、 判断有无Nginx的源</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum search nginx</span><br></pre></td></tr></table></figure><p>无源：先安装源</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm</span><br></pre></td></tr></table></figure><h2 id="2、-安装nginx"><a href="#2、-安装nginx" class="headerlink" title="2、 安装nginx"></a>2、 安装nginx</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y nginx</span><br></pre></td></tr></table></figure><h2 id="3、-启动、停止、重启-nginx"><a href="#3、-启动、停止、重启-nginx" class="headerlink" title="3、 启动、停止、重启 nginx"></a>3、 启动、停止、重启 nginx</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//  启动</span><br><span class="line">systemctl start nginx.service</span><br><span class="line">//  停止</span><br><span class="line">systemctl stop nginx.service</span><br><span class="line">//  重启</span><br><span class="line">service nginx restart</span><br></pre></td></tr></table></figure><p><a href="https://www.jianshu.com/p/42476846cd8a">nginx开机启动配置</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> centOS </tag>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx 禁止未绑定域名或IP访问</title>
      <link href="/2018/10/08/nginx%E7%A6%81%E6%AD%A2%E6%9C%AA%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D%E6%88%96IP%E8%AE%BF%E9%97%AE443%E3%80%8180%E7%AB%AF%E5%8F%A3/"/>
      <url>/2018/10/08/nginx%E7%A6%81%E6%AD%A2%E6%9C%AA%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D%E6%88%96IP%E8%AE%BF%E9%97%AE443%E3%80%8180%E7%AB%AF%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<blockquote><p>把下面这个server  放到最前面<br>把其他server里 listen 中的  default_server删掉</p></blockquote><h4 id="80端口"><a href="#80端口" class="headerlink" title="80端口"></a>80端口</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80 default_server;</span><br><span class="line">    server_name  _;</span><br><span class="line">    return       403;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="443端口"><a href="#443端口" class="headerlink" title="443端口"></a>443端口</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80 default_server;</span><br><span class="line">    listen       443 default_server;</span><br><span class="line">    server_name  _;</span><br><span class="line">    return       403;</span><br><span class="line"></span><br><span class="line">    ssl_certificate &quot;/etc/nginx/cert/214744744310771.pem&quot;;</span><br><span class="line">    ssl_certificate_key &quot;/etc/nginx/cert/214744744310771.key&quot;;</span><br><span class="line">    ssl_session_cache shared:SSL:1m;</span><br><span class="line">    ssl_session_timeout  5m;</span><br><span class="line">    ssl_ciphers HIGH:!aNULL:!MD5;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>个人感觉443的没有太大用处 因为没有证书浏览器直接显示 不是私密链接</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>contOS 开机启动 node 项目</title>
      <link href="/2018/09/17/contOS%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8node%E9%A1%B9%E7%9B%AE/"/>
      <url>/2018/09/17/contOS%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8node%E9%A1%B9%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<h3 id="1-安装pm2"><a href="#1-安装pm2" class="headerlink" title="1.安装pm2"></a>1.安装pm2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install pm2 -g</span><br></pre></td></tr></table></figure><h3 id="2-开机启动"><a href="#2-开机启动" class="headerlink" title="2.开机启动"></a>2.开机启动</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start /api/server.js --name=&quot;nodeServer&quot;</span><br></pre></td></tr></table></figure><h3 id="3-将pm2设置为开机启动"><a href="#3-将pm2设置为开机启动" class="headerlink" title="3.将pm2设置为开机启动"></a>3.将pm2设置为开机启动</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 startup</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> centOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx 开机启动</title>
      <link href="/2018/09/17/nginx%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/"/>
      <url>/2018/09/17/nginx%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<p>nginx版本：1.12.2</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable nginx.service</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
